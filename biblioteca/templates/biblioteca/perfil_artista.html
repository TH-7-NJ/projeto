{% extends 'biblioteca/base.html' %}
{% load static %}

{% block title %}Perfil de {{ artista.nome }}{% endblock %}

{% block content %}
<main class="perfil-container">
  <!-- Banner com nome e estilo -->
  <div class="banner-perfil">
    <h2>{{ artista.nome }}</h2>
    <p class="estilo">{{ artista.estilo.nome }}</p>
  </div>

  <!-- Foto circular do artista -->
  {% if artista.foto %}
    <img src="{{ artista.foto.url }}" alt="Foto de {{ artista.nome }}" class="foto-perfil">
  {% endif %}

  <!-- Informações do artista -->
  <div class="perfil-info">
    <p><strong>Cidade:</strong> {{ artista.cidade }}</p>
    <p><strong>Contato:</strong> {{ artista.contato }}</p>
    <p><strong>Biografia:</strong> {{ artista.descricao }}</p>
  </div>

  <!-- Intervenções -->
  {% if artista.intervencao_set.all %}
    <div class="intervencoes">
      <h3>Intervenções Recentes</h3>
      <ul>
        {% for intervencao in artista.intervencao_set.all %}
          <li>
            <strong>{{ intervencao.titulo }}</strong> — {{ intervencao.data }}
            <p>{{ intervencao.descricao }}</p>
          </li>
        {% endfor %}
      </ul>
    </div>
    <div class="voltar">
      <a href="javascript:history.back()" class="botao">← Voltar</a>
    </div>
  {% else %}
    <p class="text-light">Este artista ainda não realizou intervenções cadastradas.</p>
  {% endif %}
</main>
{% endblock %}
